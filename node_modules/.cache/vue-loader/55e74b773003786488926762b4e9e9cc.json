{"remainingRequest":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\src\\views\\manager\\user\\ListUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\src\\views\\manager\\user\\ListUser.vue","mtime":1642754771658},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\mushroom\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZToiTGlzdEdvb2RzIiwNCiAgICAgZGF0YSgpIHsNCiAgICAgICAgY29uc3Qge3BhZ2U9MSxzaXplPTV9ID0gdGhpcy4kcm91dGUucXVlcnk7DQogICAgICByZXR1cm4gew0KICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICB0b3RhbDowLA0KICAgICAgICBwYWdlLA0KICAgICAgICBzaXplDQogICAgICB9DQogICAgfSwNCiAgICAgY3JlYXRlZCgpew0KICAgICAgICB0aGlzLmdldFVzZXJJbmZvcygpOw0KICAgIH0sDQogICAgIG1ldGhvZHM6IHsNCiAgICAgIHRhYmxlUm93Q2xhc3NOYW1lKHsgcm93SW5kZXh9KSB7DQogICAgICAgIGlmIChyb3dJbmRleCA9PT0gMSkgew0KICAgICAgICAgIHJldHVybiAnd2FybmluZy1yb3cnOw0KICAgICAgICB9IGVsc2UgaWYgKHJvd0luZGV4ID09PSAzKSB7DQogICAgICAgICAgcmV0dXJuICdzdWNjZXNzLXJvdyc7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICcnOw0KICAgICAgfSwNCiAgICAgIGFzeW5jIGdldFVzZXJJbmZvcygpew0KICAgICAgICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IHRoaXMuJHJlcXVlc3QuZ2V0KCIvdXNlci9tb3JlTGlzdCIse3BhcmFtczp7cGFnZTp0aGlzLnBhZ2Usc2l6ZTp0aGlzLnNpemV9fSkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkYXRhIixkYXRhKTsNCiAgICAgICAgICAgIGNvbnN0IHt0b3RhbCxtc2d9PSBkYXRhDQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IG1zZzsNCiAgICAgICAgICAgIHRoaXMudG90YWwgPXRvdGFsOw0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInRoaXMudGFibGVkYXRhIix0aGlzLnRhYmxlRGF0YSk7DQogICAgICB9LA0KICAgICBkZWxzaW5nbGUoaWQpIHsNCiAgICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLiRyZXF1ZXN0LmRlbGV0ZSgiL3VzZXIvIitpZCkNCiAgICAgICAgICBjb25zb2xlLmxvZygiZGF0YeWIoOmZpOe7k+aenCIsZGF0YSk7DQogICAgICAgICAgaWYoZGF0YS5jb2RlPT09MjAwKXsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLliKDpmaTmiJDlip8iKTsNCiAgICAgICAgICB9DQogICAgICAgICAgIHNldFRpbWVvdXQoKCk9Pnt0aGlzLmdldFVzZXJJbmZvcygpfSwxMDApICANCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnDQogICAgICAgICAgfSk7ICAgICAgDQogICAgICAgIH0pLmNhdGNoKCgpPT57DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7bWVzc2FnZToi5Yig6Zmk5aSx6LSlIn0pDQogICAgICAgIH0pDQogICAgICAgIA0KICAgICAgfSwNCiAgICAgIGdvdG8oaWQpew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWFuYWdlci91c2VyL2VkaXRVc2VyP2lkPSIraWQpDQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJpZCIsaWQpOw0KICAgICAgfSwNCiAgICAgIGNoYW5nZVNpemUoc2l6ZSl7DQogICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7DQogICAgICAgIHRoaXMuZ2V0VXNlckluZm9zKCk7DQogICAgICAgIC8vIHRoaXMuJHJvdXRlLnF1ZXJ5LnNpemUgPSBzaXplOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7DQogICAgICAgICAgICAvLyBwYXRoOicvbWFuYWdlL2dvb2RzL2xpc3QnLA0KICAgICAgICAgICAgcXVlcnk6ey4uLnRoaXMuJHJvdXRlLnF1ZXJ5LHNpemV9DQogICAgICAgIH0pDQogICAgfSwNCiAgICBjaGFuZ2VQYWdlKHBhZ2Upew0KICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlDQogICAgICAgIHRoaXMuZ2V0VXNlckluZm9zKCk7DQogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsNCiAgICAgICAgICAgIC8vIHBhdGg6Jy9tYW5hZ2UvZ29vZHMvbGlzdCcsDQogICAgICAgICAgICBxdWVyeTp7Li4udGhpcy4kcm91dGUucXVlcnkscGFnZX0NCiAgICAgICAgfSkNCiAgICB9LA0KICAgIH0sDQp9DQo="},{"version":3,"sources":["ListUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListUser.vue","sourceRoot":"src/views/manager/user","sourcesContent":["<template>\r\n    <div class=\"home\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/' }\">管理首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n</el-breadcrumb>\r\n    <el-row :gutter=\"20\" style=\"margin-top:30px\">\r\n  <el-col :span=\"12\" style=\"text-align:left;\">\r\n      <el-button type=\"primary\" style=\"font-size:18px;width:150px\" @click=\"$router.push('/manager/user/addUser')\">添加</el-button>\r\n      </el-col>\r\n  <el-col :span=\"12\" style=\"text-align:right\">\r\n       <el-button type=\"danger\" style=\"font-size:18px;width:150px\">批量删除</el-button>\r\n     </el-col>\r\n</el-row>\r\n<!-- 列表 -->\r\n    <el-table\r\n   :data=\"tableData\"\r\n    style=\"width: 100%;margin-top:70px\"\r\n    :row-class-name=\"tableRowClassName\">\r\n    <el-table-column type=\"selection\"></el-table-column>\r\n      <el-table-column label=\"#\" type=\"index\" class=\"indexFrom\"></el-table-column>\r\n    <el-table-column\r\n      prop=\"date\"\r\n      label=\"创建日期\"\r\n      width=\"180\">\r\n      2021/1/22\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"username\"\r\n      label=\"用户名\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"password\"\r\n      label=\"密码\"\r\n      width=\"180\">******\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"controls\"\r\n      label=\"操作\" v-slot=\"{row}\">\r\n      <el-button type=\"primary\" style=\"width:80px;font-size:18px\" @click=\"goto(row._id)\">编辑</el-button>\r\n      <el-button type=\"danger\" @click=\"delsingle(row._id)\" style=\"width:80px;font-size:18px\">删除</el-button>\r\n    </el-table-column>\r\n  </el-table>\r\n  <!-- 分页器 -->\r\n   <el-pagination\r\n      @size-change=\"changeSize\"\r\n      @current-change=\"changePage\"\r\n      :current-page=\"page*1\"\r\n      :page-sizes=\"[5, 10, 15, 30, 50]\"\r\n      :page-size=\"size\"\r\n      layout=\"total, prev, pager, next, sizes\"\r\n      :total=\"total\" style=\"margin-top:30px;float:left\">\r\n    </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"ListGoods\",\r\n     data() {\r\n        const {page=1,size=5} = this.$route.query;\r\n      return {\r\n        tableData: [],\r\n        total:0,\r\n        page,\r\n        size\r\n      }\r\n    },\r\n     created(){\r\n        this.getUserInfos();\r\n    },\r\n     methods: {\r\n      tableRowClassName({ rowIndex}) {\r\n        if (rowIndex === 1) {\r\n          return 'warning-row';\r\n        } else if (rowIndex === 3) {\r\n          return 'success-row';\r\n        }\r\n        return '';\r\n      },\r\n      async getUserInfos(){\r\n          const {data} = await this.$request.get(\"/user/moreList\",{params:{page:this.page,size:this.size}})\r\n            console.log(\"data\",data);\r\n            const {total,msg}= data\r\n            this.tableData = msg;\r\n            this.total =total;\r\n            // console.log(\"this.tabledata\",this.tableData);\r\n      },\r\n     delsingle(id) {\r\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const data = this.$request.delete(\"/user/\"+id)\r\n          console.log(\"data删除结果\",data);\r\n          if(data.code===200){\r\n            console.log(\"删除成功\");\r\n          }\r\n           setTimeout(()=>{this.getUserInfos()},100)  \r\n            this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          });      \r\n        }).catch(()=>{\r\n          this.$message.error({message:\"删除失败\"})\r\n        })\r\n        \r\n      },\r\n      goto(id){\r\n          this.$router.push(\"/manager/user/editUser?id=\"+id)\r\n        // console.log(\"id\",id);\r\n      },\r\n      changeSize(size){\r\n        this.size = size;\r\n        this.getUserInfos();\r\n        // this.$route.query.size = size;\r\n        this.$router.replace({\r\n            // path:'/manage/goods/list',\r\n            query:{...this.$route.query,size}\r\n        })\r\n    },\r\n    changePage(page){\r\n        this.page = page\r\n        this.getUserInfos();\r\n        this.$router.replace({\r\n            // path:'/manage/goods/list',\r\n            query:{...this.$route.query,page}\r\n        })\r\n    },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n .el-table .warning-row {\r\n    background: oldlace;\r\n  }\r\n\r\n  .el-table .success-row {\r\n    background: #f0f9eb;\r\n  }\r\n</style>"]}]}