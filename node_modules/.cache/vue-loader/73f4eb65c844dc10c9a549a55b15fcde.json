{"remainingRequest":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\src\\views\\manager\\goods\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\src\\views\\manager\\goods\\List.vue","mtime":1648972932567},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\practiceAll_2110\\threeStage\\vueProjectTest\\vueDayofTest\\MoguBacks\\mushroom\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZToiTGlzdEdvb2RzIiwNCiAgICBkYXRhKCl7DQogICAgICAgICBjb25zdCB7cGFnZT0xLHNpemU9MTB9ID0gdGhpcy4kcm91dGUucXVlcnk7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIHRhYmxlRGF0YTpbXSwNCiAgICAgICAgICAgIGlzVW5kZXJDYXJyaWdlOnRydWUsDQogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTpmYWxzZSwNCiAgICAgICAgICAgIHNlYXJjaFJlc3VsdDpbXSwNCiAgICAgICAgICAgIG5ld0luZm9zQWxsOltdLA0KICAgICAgICAgICAgcGFnZSwNCiAgICAgICAgICAgIHNpemUsDQogICAgICAgICAgICB0b3RhbDowLA0KICAgICAgICAgICAgaW5wdXQyOicnLA0KICAgICAgICAgICAgIGZvcm06IHsNCiAgICAgICAgICAgICAgIHRyYWRlSXRlbUlkOjcsDQogICAgICAgICB0aXRsZToiIiwNCiAgICAgICAgaW1nOiIiLA0KICAgICAgICBjYXRlZ29yeTogIuaXtuWwmmNsdGhlcyIsDQogICAgICAgIGl0ZW10eXBlOiAiIiwNCiAgICAgICAgaGFzU2ltaWxhcml0eTpmYWxzZSwNCiAgICAgICAgY2ZhdjoiIiwNCiAgICAgICAgcHJpY2U6IiIsDQogICAgICAgIHNhbGU6IiIsDQogICAgICAgIGZvcm1hbFByaWNlOifvv6U5OTknDQogICAgICAgIH0sDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXREYXRhKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBnZXREYXRhKCkgew0KICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRyZXF1ZXN0LmdldCgiL2dvb2RzL2xpc3QiLCB7DQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZSwNCiAgICAgICAgICBzaXplOiB0aGlzLnNpemUNCiAgICAgICAgfQ0KICAgICAgfSk7DQovLyBjb25zb2xlLmxvZygiZGF0YSIsZGF0YSk7DQogICAgICBjb25zdCB7IG1zZywgdG90YWwgfSA9IGRhdGE7DQoNCiAgICAgIHRoaXMudGFibGVEYXRhID0gbXNnOw0KICAgICAgdGhpcy50b3RhbCA9IHRvdGFsOw0KICAgICAgLy8gY29uc29sZS5sb2coInRhYmFsZWRhdGEiLHRoaXMudGFibGVEYXRhKTsNCiAgICB9LA0KICAgIGNoYW5nZVNpemUoc2l6ZSl7DQogICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7DQogICAgICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgICAgICAvLyB0aGlzLiRyb3V0ZS5xdWVyeS5zaXplID0gc2l6ZTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uoew0KICAgICAgICAgICAgLy8gcGF0aDonL21hbmFnZS9nb29kcy9saXN0JywNCiAgICAgICAgICAgIHF1ZXJ5OnsuLi50aGlzLiRyb3V0ZS5xdWVyeSxzaXplfQ0KICAgICAgICB9KQ0KICAgIH0sDQogICBzaG93aW5kZXgoaW5kZXgpew0KICAgICBjb25zb2xlLmxvZygiaW5kZXgiLGluZGV4KTsNCiAgIH0sDQogICAgY2hhbmdlUGFnZShwYWdlKXsNCiAgICAgICAgdGhpcy5wYWdlID0gcGFnZQ0KICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uoew0KICAgICAgICAgICAgLy8gcGF0aDonL21hbmFnZS9nb29kcy9saXN0JywNCiAgICAgICAgICAgIHF1ZXJ5OnsuLi50aGlzLiRyb3V0ZS5xdWVyeSxwYWdlfQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgIGlzZGVsZXRlKGlkKSB7DQogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+S4jeimgeWuneWuneS6huWQlz8nLCAn5o+Q56S6Jywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgLy8g5Yig6ZmkDQogICAgICAgICAgY29uc29sZS5sb2coImlkIixpZCk7DQogICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLiRyZXF1ZXN0LmRlbGV0ZSgiL2dvb2RzLyIraWQpDQogICAgICAgIC8vIGNvbnNvbGUubG9nKCLngrnlh7vmg7PopoHliKDpmaTnmoRpc2RhdGEiLGRhdGEpOw0KICAgICAgICBpZihkYXRhLmNvZGU9PT0yMDApew0KICAgICAgICAgICBjb25zb2xlLmxvZygi5Yig6Zmk5oiQ5YqfIik7DQogICAgICAgIH0NCiAgICAgICAgc2V0VGltZW91dCgoKT0+eyB0aGlzLmdldERhdGEoKTt9LDEwMCkNCiAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnDQogICAgICAgICAgfSk7DQogICAgICAgIH0pLmNhdGNoKCgpPT57DQogICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6IuWIoOmZpOWksei0pSEifSkNCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBnb3RvKGlkKXsNCiAgICAgICAgY29uc29sZS5sb2coImlkIixpZCk7DQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzaW5nbGV1cGRhdGVJZCIsSlNPTi5zdHJpbmdpZnkoaWQpKQ0KICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCgiL21hbmFnZXIvZ29vZHMvZWRpdD9pZD0iK2lkKQ0KICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gIXRoaXMuZGlhbG9nRm9ybVZpc2libGUNCiAgICAgICAgdGhpcy4kcmVxdWVzdC5nZXQoIi9nb29kcy8iK2lkKS50aGVuKCh7ZGF0YX0pPT57DQogICAgICAgICAgY29uc29sZS5sb2coIuivpuaDhWlkIixkYXRhKTsNCiAgICAgICAgICB0aGlzLmZvcm0udGl0bGUgPSBkYXRhLm1zZ1swXS50aXRsZQ0KICAgIHRoaXMuZm9ybS5kZXNjID0gZGF0YS5tc2dbMF0udHJhZGVJdGVtSWQNCiAgICB0aGlzLmZvcm0uaGFzU2ltaWxhcml0eSA9IGRhdGEubXNnWzBdLmhhc1NpbWlsYXJpdHkNCiAgICB0aGlzLmZvcm0uY2ZhdiA9ZGF0YS5tc2dbMF0uY2Zhdg0KICAgIHRoaXMuZm9ybS5wcmljZSA9ZGF0YS5tc2dbMF0ucHJpY2UNCiAgICB0aGlzLmZvcm0uc2FsZSA9ZGF0YS5tc2dbMF0uc2FsZQ0KICAgIHRoaXMuZm9ybS5pbWcgPSBkYXRhLm1zZ1swXS5pbWcNCiAgICAgICAgfSkuY2F0Y2goKGVycik9Pntjb25zb2xlLmxvZyhlcnIpO30pDQogICAgICB9LA0KICAgICAgLy8g5LiK5LiL5p62DQogICAgICBhc3luYyBjaGFuZ2VTdGF0ZUJ1KGlkKXsNCiAgICAgICAgdGhpcy5pc1VuZGVyQ2FycmlnZSA9ICF0aGlzLmlzVW5kZXJDYXJyaWdlDQogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0LnBhdGNoKCIvZ29vZHMvcGF0Y2hzLyIraWQse2hhc1NpbWlsYXJpdHk6dGhpcy5pc1VuZGVyQ2FycmlnZX0pDQogICAgICAgIHNldFRpbWVvdXQoKCk9Pnt0aGlzLmdldERhdGEoKX0sMTAwKQ0KICAgICAgICBjb25zb2xlLmxvZygi5b2T5YmNaWTlgLwiLGlkKTsNCiAgICAgICAgY29uc29sZS5sb2coIuS4iuS4i+aetiIsZGF0YSk7DQogICAgICB9LA0KICAgICAgLy8g5pCc57SiDQogICAgICBzZWFyY2hBY3Rpb24oKXsNCiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IHRoaXMuaW5wdXQyOw0KICAgICAgICB0aGlzLm5ld0luZm9zQWxsID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF0YWxpc3RhbGwnKSkNCiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHQgPSB0aGlzLm5ld0luZm9zQWxsLmZpbHRlcigoaXRlbSk9PnsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygi5a2Q5YWD57SgIix0eXBlb2YoaXRlbS50aXRsZSkpOw0KICAgICAgICAgIGlmKGl0ZW0udGl0bGUuaW5jbHVkZXMoaW5wdXRWYWx1ZSkpew0KICAgICAgICAgICAgcmV0dXJuIGl0ZW07DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMuc2VhcmNoUmVzdWx0Ow0KICAgICAgICB0aGlzLmlucHV0Mj0iIg0KICAgICAgICBjb25zb2xlLmxvZygi5pCc57Si5ZCO55qE57uT5p6cIix0aGlzLnNlYXJjaFJlc3VsdCk7DQogICAgICB9LA0KICAgICAgc3VyZVRvRWRpdCh2YWx1ZXMpew0KICAgICAgICBjb25zb2xlLmxvZygi6KGo5Y2V5pWw5o2uIix2YWx1ZXMpOw0KICAgICAgICBjb25zdCBpZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInNpbmdsZXVwZGF0ZUlkIikpDQogICAgICAgIHRoaXMuJHJlcXVlc3QucHV0KCIvZ29vZHMvIitpZCx0aGlzLmZvcm0pLnRoZW4oKHtkYXRhfSk9PnsNCiAgICAgICAgICBjb25zb2xlLmxvZygi5pu05paw57uT5p6cIixkYXRhKTsNCiAgICAgICAgICBpZihkYXRhLmNvZGU9PT0yMDApew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmlrDmiJDlip8iKQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pu05paw5aSx6LSlIikNCiAgICAgICAgICB9DQogICAgICAgIH0pLmNhdGNoKChlcnIpPT57Y29uc29sZS5sb2coZXJyKTt9KQ0KICAgICAgICBzZXRUaW1lb3V0KCgpPT57dGhpcy5nZXREYXRhKCl9LDUwMCkNCiAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/manager/goods","sourcesContent":["<template>\r\n    <div class=\"home\" style=\"padding:10px 30px 0px 10px\">\r\n      <div class=\"extraTabs\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">管理首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <div class=\"searchBox\">\r\n      <el-row :gutter=\"20\">\r\n    <el-col :span=\"9\">\r\n      <div class=\"grid-content bg-purple\" style=\"margin-top: 10px;\">\r\n  <el-input placeholder=\"请输入内容\" v-model=\"input2\" @change=\"searchAction($event)\">\r\n    <template slot=\"append\" ><el-button type=\"primary\"  class=\"changeButton\">搜索</el-button></template>\r\n  </el-input>\r\n      </div></el-col>\r\n    <el-col :span=\"12\" style=\"margin-top: 10px;float:right\">\r\n     <el-button class=\"changeButton\" type=\"primary\" plain round disabled>导入</el-button>\r\n     <el-button class=\"changeButton\" type=\"primary\" plain round disabled>导出</el-button>\r\n     <el-button class=\"changeButton\" type=\"primary\" round disabled>批量上架</el-button>\r\n     <el-button class=\"changeButton\" type=\"primary\" round disabled>批量下架</el-button>\r\n     <el-button class=\"changeButton\" type=\"danger\" round disabled>批量删除</el-button>\r\n      <div class=\"grid-content bg-purple\">\r\n      \r\n      </div></el-col>\r\n  </el-row>\r\n    </div>\r\n      </div>\r\n         <el-table\r\n      :data=\"tableData\"\r\n      style=\"width: 100%;\">\r\n     <template>\r\n        <el-table-column type=\"selection\"></el-table-column>\r\n      <el-table-column label=\"#\" type=\"index\" class=\"indexFrom\"></el-table-column>\r\n      <el-table-column\r\n        width=\"120\"\r\n        prop=\"img\"\r\n        label=\"图片\"\r\n        v-slot=\"{row}\"\r\n    >\r\n        <el-image\r\n        style=\"width: 60px; height: 60px\"\r\n        :src=\"row.img\"></el-image>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"title\"\r\n        label=\"商品信息\"\r\n        v-slot=\"{row}\"\r\n        >\r\n        <h5>{{row.title}}</h5>\r\n        <p class=\"price\"><del>￥999</del><span class=\"price11\">￥{{row.price}}</span></p>\r\n      </el-table-column>\r\n      <el-table-column \r\n      label=\"____是否上架\"\r\n      v-slot=\"{row}\"\r\n      class=\"isShangjia\"\r\n      width=\"420\"\r\n      >\r\n        <p style=\"margin-left:60px\">{{row.hasSimilarity?\"售卖中\":\"已下架\"}}</p>\r\n        <el-button type=\"primary\" size=\"50px\" style=\"margin-left:60px\" @click=\"changeStateBu(row._id)\">{{isUnderCarrige?\"上架\":\"下架\"}}</el-button>\r\n      </el-table-column>\r\n       <el-table-column \r\n       label=\"已售\"\r\n       v-slot=\"{row}\"\r\n       >\r\n       <p>{{row.sale}}</p>\r\n       </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        width=\"280\" style=\"display:flex;\" v-slot=\"{row}\">\r\n          <el-row class=\"controlSs\"  >\r\n            <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit-outline\" @click=\"goto(row._id)\">编辑</el-button>\r\n        <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" @click=\"isdelete(row._id)\">删除</el-button></el-row>\r\n      </el-table-column>\r\n     </template>\r\n    </el-table>\r\n    <!-- 点击弹出内容 -->\r\n    <el-dialog title=\"收货地址\" :visible.sync=\"dialogFormVisible\" style=\"marginTop:'20px'\">\r\n  <el-form :model=\"form\">\r\n    <el-form-item label=\"商品名称\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.title\" autocomplete=\"off\" placeholder=\"商品名称\"></el-input>\r\n    </el-form-item>\r\n     <el-form-item label=\"商品分类\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.category\" autocomplete=\"off\" placeholder=\"商品分类\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"图片地址\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.img\" type=\"textarea\" autocomplete=\"off\" placeholder=\"图片地址\"></el-input>\r\n    </el-form-item>\r\n     <el-form-item label=\"现价/原价/销量/已售\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.formalPrice\" autocomplete=\"off\" placeholder=\"原价\"></el-input>\r\n      <el-input v-model=\"form.price\" autocomplete=\"off\" placeholder=\"现价\"></el-input>\r\n      <el-input v-model=\"form.cfav\" autocomplete=\"off\" placeholder=\"销量\"></el-input>\r\n      <el-input v-model=\"form.sale\" autocomplete=\"off\" placeholder=\"已售\"></el-input>\r\n    </el-form-item>\r\n     <el-form-item label=\"商品描述\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.desc\" autocomplete=\"off\" placeholder=\"商品描述\"></el-input>\r\n    </el-form-item>\r\n     <el-form-item label=\"是否上架\" :label-width=\"formLabelWidth\">\r\n      <el-input v-model=\"form.hasSimilarity\" autocomplete=\"off\" placeholder=\"是否上架\"></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n  <div slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"dialogFormVisible = false\">取 消 编 辑</el-button>\r\n    <el-button type=\"primary\" @click=\"sureToEdit(form)\">确 定 编 辑</el-button>\r\n  </div>\r\n</el-dialog>\r\n    <el-pagination\r\n      @size-change=\"changeSize\"\r\n      @current-change=\"changePage\"\r\n      :current-page=\"page*1\"\r\n      :page-sizes=\"[5, 10, 15, 30, 50]\"\r\n      :page-size=\"size\"\r\n      layout=\"total, prev, pager, next, sizes\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"ListGoods\",\r\n    data(){\r\n         const {page=1,size=10} = this.$route.query;\r\n        return{\r\n            tableData:[],\r\n            isUnderCarrige:true,\r\n            dialogFormVisible:false,\r\n            searchResult:[],\r\n            newInfosAll:[],\r\n            page,\r\n            size,\r\n            total:0,\r\n            input2:'',\r\n             form: {\r\n               tradeItemId:7,\r\n         title:\"\",\r\n        img:\"\",\r\n        category: \"时尚clthes\",\r\n        itemtype: \"\",\r\n        hasSimilarity:false,\r\n        cfav:\"\",\r\n        price:\"\",\r\n        sale:\"\",\r\n        formalPrice:'￥999'\r\n        },\r\n        }\r\n    },\r\n    created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    async getData() {\r\n      const { data } = await this.$request.get(\"/goods/list\", {\r\n        params: {\r\n          page: this.page,\r\n          size: this.size\r\n        }\r\n      });\r\n// console.log(\"data\",data);\r\n      const { msg, total } = data;\r\n\r\n      this.tableData = msg;\r\n      this.total = total;\r\n      // console.log(\"tabaledata\",this.tableData);\r\n    },\r\n    changeSize(size){\r\n        this.size = size;\r\n        this.getData();\r\n        // this.$route.query.size = size;\r\n        this.$router.replace({\r\n            // path:'/manage/goods/list',\r\n            query:{...this.$route.query,size}\r\n        })\r\n    },\r\n   showindex(index){\r\n     console.log(\"index\",index);\r\n   },\r\n    changePage(page){\r\n        this.page = page\r\n        this.getData();\r\n        this.$router.replace({\r\n            // path:'/manage/goods/list',\r\n            query:{...this.$route.query,page}\r\n        })\r\n    },\r\n     isdelete(id) {\r\n        this.$confirm('不要宝宝了吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          // 删除\r\n          console.log(\"id\",id);\r\n        const data = this.$request.delete(\"/goods/\"+id)\r\n        // console.log(\"点击想要删除的isdata\",data);\r\n        if(data.code===200){\r\n           console.log(\"删除成功\");\r\n        }\r\n        setTimeout(()=>{ this.getData();},100)\r\n         this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          });\r\n        }).catch(()=>{\r\n           this.$message.error({message:\"删除失败!\"})\r\n        })\r\n      },\r\n      goto(id){\r\n        console.log(\"id\",id);\r\n        localStorage.setItem(\"singleupdateId\",JSON.stringify(id))\r\n        // this.$router.push(\"/manager/goods/edit?id=\"+id)\r\n        this.dialogFormVisible = !this.dialogFormVisible\r\n        this.$request.get(\"/goods/\"+id).then(({data})=>{\r\n          console.log(\"详情id\",data);\r\n          this.form.title = data.msg[0].title\r\n    this.form.desc = data.msg[0].tradeItemId\r\n    this.form.hasSimilarity = data.msg[0].hasSimilarity\r\n    this.form.cfav =data.msg[0].cfav\r\n    this.form.price =data.msg[0].price\r\n    this.form.sale =data.msg[0].sale\r\n    this.form.img = data.msg[0].img\r\n        }).catch((err)=>{console.log(err);})\r\n      },\r\n      // 上下架\r\n      async changeStateBu(id){\r\n        this.isUnderCarrige = !this.isUnderCarrige\r\n        const data = await this.$request.patch(\"/goods/patchs/\"+id,{hasSimilarity:this.isUnderCarrige})\r\n        setTimeout(()=>{this.getData()},100)\r\n        console.log(\"当前id值\",id);\r\n        console.log(\"上下架\",data);\r\n      },\r\n      // 搜索\r\n      searchAction(){\r\n        const inputValue = this.input2;\r\n        this.newInfosAll = JSON.parse(localStorage.getItem('datalistall'))\r\n        this.searchResult = this.newInfosAll.filter((item)=>{\r\n          // console.log(\"子元素\",typeof(item.title));\r\n          if(item.title.includes(inputValue)){\r\n            return item;\r\n          }\r\n        })\r\n        this.tableData = this.searchResult;\r\n        this.input2=\"\"\r\n        console.log(\"搜索后的结果\",this.searchResult);\r\n      },\r\n      sureToEdit(values){\r\n        console.log(\"表单数据\",values);\r\n        const id = JSON.parse(localStorage.getItem(\"singleupdateId\"))\r\n        this.$request.put(\"/goods/\"+id,this.form).then(({data})=>{\r\n          console.log(\"更新结果\",data);\r\n          if(data.code===200){\r\n            this.$message.success(\"更新成功\")\r\n          }else{\r\n            this.$message.error(\"更新失败\")\r\n          }\r\n        }).catch((err)=>{console.log(err);})\r\n        setTimeout(()=>{this.getData()},500)\r\n          this.dialogFormVisible = false;\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home{\r\n    width: 93%;\r\n    font-family: \"宋体\";\r\n    .controlSs{\r\n        display: flex;\r\n        margin-right: 24px;\r\n    }\r\n    .price11{\r\n        color: red;\r\n        font-family: \"宋体\";\r\n        font-weight: bold;\r\n    }\r\n    .extraTabs{\r\n      height: 86px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      .searchBox{\r\n        flex: 1;\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n    .changeButton{\r\n      width: 127px;\r\n    }\r\n}\r\n</style>"]}]}